<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div class="container">
        <div>
            <!-- <select name="countryList" id="countryList">
                <option value="" selected="selected">Select Any Country</option> -->
            <label for="Country Name"> Country Name : </label>
            <select name="country" id="selectCountry">
                <option value="" selected>-- Select Country --</option> -->
                <option value="Pakistan">Pakistan</option>
                <option value="India">India</option>
                <option value="America">America</option>
                <option value="Canada">Canada</option>
                <option value="Australia">Australia</option>
            </select>
        </div>
        <select name="" id="selectCity">-- Select City --
            <option value="" selected="selected">-- Select Country --</option>
        </select>
        <button onclick="getWeather()">Get Weather</button>
        </div>
        <div id="result" style="height:400px;width:500px;background-color: aqua;"></div>
</body>

<script>


// let city2 = [
//     { cities:Pakistan}
//        { Pakistan: ["Islamabad", "Lahore", "Karachi", "Peshawar"]},
//         India: ["Delhi", "Mumbai", "Kolkata", "Patna"],
//         America: ["Austin", "Seattle", "Boston", "San Francisco"],
//         Australia: ["Queensland ", "Brisbane", "Adelaide", "Tasmania "],
//         Canada: ["Edmonton", "Alberta ", "Victoria", "Fredericton"],
// ];

    let city = {
        Pakistan: ["Islamabad", "Lahore", "Karachi", "Peshawar"],
        India: ["Delhi", "Mumbai", "Kolkata", "Patna"],
        America: ["Austin", "Seattle", "Boston", "San Francisco"],
        Australia: ["Queensland ", "Brisbane", "Adelaide", "Tasmania "],
        Canada: ["Edmonton", "Alberta ", "Victoria", "Fredericton"],
    };

    let countryList = document.getElementById('selectCountry')
    let cityList = document.getElementById('selectCity')

    countryList.addEventListener('change', e => {
        console.log(e.target.value)
        let selectedCountry = e.target.value
        let selectedCities = city[selectedCountry]
        console.log(selectedCities)
        let arr = selectedCities.map(city => `<option value=${city}>${city}</option>`)
        console.log(arr)
        cityList.innerHTML = arr
    })

    cityList.addEventListener('change', function (e) {
        console.log(e.target.value)
        let selectedCity = e.target.value
    })

    function getWeather() {
        event.preventDefault();
        if (countryList.value == "" || cityList.value == "")
            return;
        else {
       let selectedCity=cityList.value;
       // https://api.openweathermap.org/data/2.5/weather?q=Islamabad&appid=2317456e579045b6fdc891fd2e4feb80   
       let url = `https://api.openweathermap.org/data/2.5/weather?q=${selectedCity}&appid=2317456e579045b6fdc891fd2e4feb80`;
       fetch(url)
       .then(res => res.json())
       .then(data => {
        let temp=data.main.temp-273.15;
        temp=temp.toFixed(0);
        let humidity=data.main.humidity;
       document.getElementById('result').innerHTML=`<h2>Temperature ${temp}</h2><h2>Humidity ${humidity}</h2>`;
    });
    }
    }


</script>

</html>